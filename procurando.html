<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Procurando Motorista – RF Driver</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

body{
  background:#000;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:30px 20px;
}

/* LOGO */
.logo{
  width:90px;
  height:90px;
  border-radius:50%;
  background:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 40px rgba(250,204,21,.3);
  margin-bottom:25px;
}

.logo img{
  width:70%;
}

/* STATUS */
.status{
  font-size:1.4rem;
  font-weight:700;
  margin-bottom:10px;
}

.sub{
  font-size:.9rem;
  color:#a1a1aa;
  margin-bottom:25px;
}

/* ROTA */
.route{
  text-align:center;
  margin-bottom:20px;
  font-size:.9rem;
  color:#d4d4d8;
}

.route strong{
  color:#fff;
}

/* TOTAL */
.total{
  font-size:2.6rem;
  font-weight:800;
  color:#facc15;
  margin-bottom:25px;
}

/* ANIMAÇÃO */
.loader{
  width:70px;
  height:70px;
  border:4px solid #1f2937;
  border-top:4px solid #2563eb;
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin-bottom:20px;
}

@keyframes spin{
  to{ transform:rotate(360deg); }
}

/* TIMER */
.timer{
  font-size:.85rem;
  color:#94a3b8;
  margin-bottom:30px;
}

/* BOTÕES */
.btn{
  width:100%;
  max-width:320px;
  padding:16px;
  border-radius:14px;
  border:none;
  font-weight:700;
  font-size:1rem;
  margin-bottom:12px;
  cursor:pointer;
}

.btn-primary{
  background:#facc15;
  color:#000;
}

.btn-secondary{
  background:#111;
  border:1px solid #2563eb;
  color:#2563eb;
}

.btn-danger{
  background:#1f1f1f;
  border:1px solid #ef4444;
  color:#ef4444;
}

.btn:active{
  transform:scale(.96);
}
</style>
</head>
<body>

<div class="logo">
  <img src="./icons/logo-192.png">
</div>

<div class="status">Procurando motorista...</div>
<div class="sub">Aguarde enquanto localizamos um motorista próximo</div>

<div class="route">
  <div><strong id="origem"></strong></div>
  <div>↓</div>
  <div><strong id="destino"></strong></div>
</div>

<div class="total" id="total"></div>

<div class="loader"></div>

<div class="timer" id="timer">Tempo de espera: 0s</div>

<button class="btn btn-primary" onclick="aumentarOferta()">
  Oferecer mais
</button>

<button class="btn btn-danger" onclick="cancelar()">
  Cancelar corrida
</button>

<script src="core/global.js"></script>

<script>
const origem = App.get("origem") || "-";
const destino = App.get("destino") || "-";
const total = Number(App.get("total") || 0);

document.getElementById("origem").innerText = origem;
document.getElementById("destino").innerText = destino;
document.getElementById("total").innerText = "R$ " + total.toFixed(2);

// TIMER
let segundos = 0;
setInterval(()=>{
  segundos++;
  document.getElementById("timer").innerText =
    "Tempo de espera: " + segundos + "s";
},1000);

// AUMENTAR OFERTA
function aumentarOferta(){
  let novo = prompt("Digite o novo valor da oferta:", total.toFixed(2));
  if(novo && !isNaN(novo)){
    App.set("total", Number(novo));
    location.reload();
  }
}

// CANCELAR
function cancelar(){
  if(confirm("Deseja cancelar a corrida?")){
    App.go("index.html");
  }
}
</script>

</body>
</html>
